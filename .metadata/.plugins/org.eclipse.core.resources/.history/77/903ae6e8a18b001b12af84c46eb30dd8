
/*댓글쓰기*/
  $("#replyPost").on("click", (e)=>{
	e.preventDefault(); //form태그 action안타게 막아버리는것

let postId = $("#postId").val();

  	let data = {
		content: $("#reply").val(),
		isAnonymous: $('input:checkbox[name=isAnonymous]').is(':checked')
	};
      
      $.ajax({
		type: "POST",
		url: "/reply/"+postId,
		data: JSON.stringify(data),
		contentType: "application/json; charset=utf-8",
		dataType:"json"
	}).done((res)=>{
		console.log(res);
		if(res.statusCode === 1){
			alert("게시글 작성에 성공하였습니다.");
			 location.reload();
		}else{
			alert("게시글 작성에 실패하였습니다.");
		}
	});
      
});

/*댓글쓰기 완료*/

/*댓글 삭제*/
function deleteReply(id){
	
 if (confirm("정말 삭제하시겠습니까??") == true){    //확인
        }else{   //취소
            return;
          }
	
    $.ajax({
		type: "DELETE",
		url: "/reply/"+id,
		dataType:"json"
	}).done((res)=>{
		console.log(res);
		if(res.statusCode === 1){
		$("#reply-"+id).remove();
		}else{
			alert("삭제에 실패하였습니다.");
		}
	});
}
/*댓글 삭제 완료*/


function postReReply(id){
$("#reply-"+id).prepend(
	`<form class="write" id = "ReReply">
	<p><input id="title" placeholder="글 제목" class="title"></p>
	<p><textarea id="content" placeholder="" class="smallplaceholder large">
</textarea></p>
<input class="file" type="file" name="file" multiple="multiple">
<ol class="thumbnails">
<li class="new"></li>
</ol>
<div class="clearBothOnly"></div>
<ul class="option">
<li title="해시태그" class="hashtag"></li>
<li title="첨부" class="attach"></li>
<li title="완료" class="submit" id="writePost"></li>
<li class="anonym">
<input type="checkbox" class="form-check-input" id="isAnonymous" name="isAnonymous">
 <label class="form-check-label" for="exampleCheck1"> 익명 </label>
</li>
</ul>
<div class="clearBothOnly"></div>
</form>
`);

	
    $.ajax({
		type: "DELETE",
		url: "/reply/"+id,
		dataType:"json"
	}).done((res)=>{
		console.log(res);
		if(res.statusCode === 1){
		$("#reply-"+id).remove();
		}else{
			alert("삭제에 실패하였습니다.");
		}
	});
}
/*대댓글 버튼생성*/


/*글쓰기 완료*/
  $("#writePost").on("click", (e)=>{
	e.preventDefault(); //form태그 action안타게 막아버리는것

  	let data = {
		content: $("#content").val(),
		title: $("#title").val(),
		isAnonymous: $('input:checkbox[name=isAnonymous]').is(':checked')
	};
      
      $.ajax({
		type: "POST",
		url: "/board/post",
		data: JSON.stringify(data),
		contentType: "application/json; charset=utf-8",
		dataType:"json"
	}).done((res)=>{
		console.log(res);
		if(res.statusCode === 1){
			alert("게시글 작성에 성공하였습니다.");
			 location.reload();
		}else{
			alert("게시글 작성에 실패하였습니다.");
		}
	});
      
});

/*글쓰기 완료*/



/*대댓글 버튼생성 끝*/